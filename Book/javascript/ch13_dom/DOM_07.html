<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Examples of DOM</title>
</head>
<body>
<buttom id ='btn'>아이템 추가</buttom>
<div id = 'div'></div>

<script>
    const btn = document.getElementById('btn');
    const div = document.getElementById('div');

    const increaseItemCount = (function() {
        let count = 1;
        return function() {
            return count++;
        };
    })();

    function addItem(){
        function createItem() {
            const pElement = document.createElement('p');
            const textNode = document.createTextNode(`item-${increaseItemCount()}`);
            pElement.appendChild(textNode);
            if(div.firstChild)
            {
                div.insertBefore(pElement, div.firstChild);
                return;
            }
            div.insertBefore(pElement, div.firstChild);
        }
        return createItem;
    }

    btn.addEventListener('click', () => {
        const createItem = addItem();
        createItem();
    })
</script>

</body>
</html>
